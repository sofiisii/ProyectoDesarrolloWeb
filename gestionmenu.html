<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gestión de Menú</title>
<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,300" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<style>
    body {
        font-family: 'Open Sans', sans-serif;
        background-color: #f8f9fa;
    }

    .header {
        background-color: mediumturquoise;
        color: white;
        text-align: center;
        padding: 2rem 1rem;
        margin-bottom: 2rem;
    }

    .card {
        border-radius: 10px;
    }

    .form-group {
        margin-bottom: 15px;
    }

    .toggle-switch {
        position: relative;
        display: inline-block;
        width: 50px;
        height: 24px;
        margin-right: 10px;
    }

    .toggle-switch input {
        opacity: 0;
        width: 0;
        height: 0;
    }

    .slider {
        position: absolute;
        cursor: pointer;
        top: 0; left: 0; right: 0; bottom: 0;
        background-color: #ccc;
        transition: .4s;
        border-radius: 24px;
    }

    .slider:before {
        position: absolute;
        content: "";
        height: 16px;
        width: 16px;
        left: 4px;
        bottom: 4px;
        background-color: white;
        transition: .4s;
        border-radius: 50%;
    }

    input:checked + .slider {
        background-color: #28a745;
    }

    input:checked + .slider:before {
        transform: translateX(26px);
    }

    .availability-status {
        font-weight: 600;
    }

    .available { color: #28a745; }
    .unavailable { color: #dc3545; }

    .btn {
        width: 100%;
        padding: 12px;
        border: none;
        border-radius: 5px;
        font-weight: 600;
        cursor: pointer;
        font-size: 16px;
    }

    .btn-primary { background-color: #4a90e2; color: white; }
    .btn-primary:hover { background-color: #357abd; }

    .btn-secondary { background-color: #f0f0f0; color: #333; border: 1px solid #ddd; }
    .btn-secondary:hover { background-color: #e0e0e0; }

    .message {
        margin-top: 15px;
        padding: 12px;
        border-radius: 5px;
        text-align: center;
        display: none;
    }

    .success { background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
    .info { background-color: #d1ecf1; color: #0c5460; border: 1px solid #bee5eb; }
</style>
</head>
<body>

<div class="header">
    <h1>Sabor Limeño</h1>
    <p class="mb-0">Gestión de Menú</p>
</div>

<div class="container my-4">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow p-4">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Producto</th>
                            <th>Precio</th>
                            <th>Disponible</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Ceviche Clásico</td>
                            <td>$10.990</td>
                            <td>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="ceviche-toggle">
                                    <span class="slider"></span>
                                </label>
                                <span class="availability-status" id="ceviche-status">OFF</span>
                            </td>
                        </tr>
                        <tr>
                            <td>Lomo Saltado</td>
                            <td>$12.990</td>
                            <td>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="lomo-toggle" checked>
                                    <span class="slider"></span>
                                </label>
                                <span class="availability-status" id="lomo-status">ON</span>
                            </td>
                        </tr>
                        <tr>
                            <td>Suspiro Limeño</td>
                            <td>$8.990</td>
                            <td>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="suspiro-toggle" checked>
                                    <span class="slider"></span>
                                </label>
                                <span class="availability-status" id="suspiro-status">ON</span>
                            </td>
                        </tr>
                    </tbody>
                </table>

                <div id="unavailableMessage" class="message info">
                    <strong>Nota:</strong> Los productos marcados como no disponibles no aparecerán en el catálogo público.
                </div>

                <div id="successMessage" class="message success"></div>

                <div class="form-group">
                    <button type="button" class="btn btn-secondary" id="cancelButton">Cancelar</button>
                </div>
                <div class="form-group">
                    <button type="button" class="btn btn-primary" id="saveButton">Guardar Cambios</button>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const toggles = document.querySelectorAll('.toggle-switch input');
    const unavailableMessage = document.getElementById('unavailableMessage');
    const successMessage = document.getElementById('successMessage');

    function updateStatus(toggleId, statusId) {
        const toggle = document.getElementById(toggleId);
        const status = document.getElementById(statusId);
        if(toggle.checked){
            status.textContent = 'ON';
            status.className = 'availability-status available';
        } else {
            status.textContent = 'OFF';
            status.className = 'availability-status unavailable';
        }
    }

    toggles.forEach(toggle => {
        const statusId = toggle.id.replace('-toggle','-status');
        updateStatus(toggle.id, statusId);
        toggle.addEventListener('change', () => {
            updateStatus(toggle.id, statusId);
            const anyUnavailable = Array.from(toggles).some(t => !t.checked);
            unavailableMessage.style.display = anyUnavailable ? 'block' : 'none';
        });
    });

    document.getElementById('saveButton').addEventListener('click', function(){
        const offProducts = [];
        toggles.forEach(toggle => {
            if(!toggle.checked){
                const row = toggle.closest('tr');
                const productName = row.querySelector('td').textContent;
                offProducts.push(productName);
            }
        });

        if(offProducts.length === 0){
            successMessage.textContent = '¡Todos los productos están disponibles! Cambios guardados exitosamente.';
        } else {
            successMessage.textContent = `¡Cambios guardados! Los siguientes productos no estarán en el catálogo: ${offProducts.join(', ')}`;
        }

        successMessage.style.display = 'block';
        setTimeout(() => { successMessage.style.display = 'none'; }, 4000);
    });

    document.getElementById('cancelButton').addEventListener('click', function(){
        if(confirm('¿Estás seguro de que deseas cancelar? Los cambios no guardados se perderán.')){
            window.location.href = '#';
        }
    });
});
</script>

</body>
</html>
