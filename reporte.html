<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Reportes de Ventas - Sabor Limeño</title>
<style>
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

body {
    background-color: #f5f5f5;
    margin: 0;
    padding: 0;
}

/* Header que se desplaza con la página */
.header {
    width: 100%;
    background-color: mediumturquoise;
    color: white;
    text-align: center;
    padding: 1.5rem 1rem;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}

.header h1 {
    margin-bottom: 0.2rem;
    font-weight: 600;
}

.header p {
    margin: 0;
}

/* Contenedor centrado debajo del header */
.container {
    background-color: white;
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    width: 100%;
    max-width: 800px;
    padding: 30px;
    margin: 20px auto; /* margen normal, ya no necesitamos espacio extra por header fijo */
}

/* Resto de estilos existentes */
h1 {
    color: #333;
    margin-bottom: 25px;
    font-weight: 600;
    text-align: center;
}

.report-filters {
    background-color: #f8f9fa;
    padding: 20px;
    border-radius: 5px;
    margin-bottom: 30px;
}

.filter-group {
    display: flex;
    gap: 15px;
    align-items: center;
    margin-bottom: 15px;
}

.filter-label {
    font-weight: 500;
    color: #555;
    min-width: 80px;
}

select {
    padding: 10px 15px;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 16px;
    background-color: white;
}

.btn {
    padding: 12px 25px;
    border: none;
    border-radius: 5px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.3s;
}

.btn-primary {
    background-color: #4a90e2;
    color: white;
}

.btn-primary:hover {
    background-color: #3a7bc8;
}

.metrics-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
    margin-bottom: 30px;
}

.metric-card {
    background-color: #f8f9fa;
    padding: 20px;
    border-radius: 8px;
    text-align: center;
    border-left: 4px solid #4a90e2;
}

.metric-value {
    font-size: 28px;
    font-weight: 700;
    color: #333;
    margin: 10px 0;
}

.metric-label {
    color: #666;
    font-size: 14px;
}

.top-dishes {
    margin-bottom: 30px;
}

.section-title {
    font-size: 20px;
    font-weight: 600;
    color: #333;
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 2px solid #eee;
}

.dishes-table {
    width: 100%;
    border-collapse: collapse;
}

.dishes-table th {
    background-color: #f8f9fa;
    padding: 12px 15px;
    text-align: left;
    font-weight: 600;
    color: #333;
    border-bottom: 2px solid #dee2e6;
}

.dishes-table td {
    padding: 12px 15px;
    border-bottom: 1px solid #eee;
}

.dish-rank {
    font-weight: 600;
    color: #4a90e2;
    width: 50px;
}

.dish-sales {
    text-align: right;
    font-weight: 600;
    color: #28a745;
}

.export-buttons {
    display: flex;
    gap: 15px;
    justify-content: center;
}

.btn-export {
    background-color: #28a745;
    color: white;
    padding: 12px 20px;
}

.btn-export:hover {
    background-color: #218838;
}

.btn-pdf {
    background-color: #dc3545;
}

.btn-pdf:hover {
    background-color: #c82333;
}

.report-period {
    text-align: center;
    color: #666;
    margin-bottom: 20px;
    font-style: italic;
}

.loading {
    text-align: center;
    padding: 40px;
    color: #666;
    display: none;
}

.success-message {
    background-color: #d4edda;
    color: #155724;
    padding: 15px;
    border-radius: 5px;
    text-align: center;
    margin-top: 20px;
    display: none;
}
</style>
</head>
<body>

<!-- Header que se desplaza -->
<div class="header">
    <h1>Sabor Limeño</h1>
    <p>Reportes de Ventas</p>
</div>

<div class="container">
    <h1>Reporte Mensual</h1>
    
    <div class="report-filters">
        <div class="filter-group">
            <span class="filter-label">Mes:</span>
            <select id="monthSelect">
                <option value="1">Enero</option>
                <option value="2">Febrero</option>
                <option value="3">Marzo</option>
                <option value="4">Abril</option>
                <option value="5">Mayo</option>
                <option value="6">Junio</option>
                <option value="7">Julio</option>
                <option value="8" selected>Agosto</option>
                <option value="9">Septiembre</option>
                <option value="10">Octubre</option>
                <option value="11">Noviembre</option>
                <option value="12">Diciembre</option>
            </select>
        </div>
        
        <div class="filter-group">
            <span class="filter-label">Año:</span>
            <select id="yearSelect">
                <option value="2023">2023</option>
                <option value="2024">2024</option>
                <option value="2025" selected>2025</option>
            </select>
        </div>
        
        <button class="btn btn-primary" id="generateReport">Generar reporte</button>
    </div>
    
    <div class="loading" id="loadingIndicator">
        <div>Generando reporte...</div>
    </div>
    
    <div id="reportContent" style="display: none;">
        <div class="report-period" id="reportPeriod">Reporte para: Agosto 2025</div>
        
        <div class="metrics-grid">
            <div class="metric-card">
                <div class="metric-label">Ventas Totales</div>
                <div class="metric-value" id="totalSales">$2.450.850</div>
                <div class="metric-label">+12% vs mes anterior</div>
            </div>
            
            <div class="metric-card">
                <div class="metric-label">Ticket Promedio</div>
                <div class="metric-value" id="averageTicket">$24.580</div>
                <div class="metric-label">+5% vs mes anterior</div>
            </div>
            
            <div class="metric-card">
                <div class="metric-label">Pedidos Totales</div>
                <div class="metric-value" id="totalOrders">98</div>
                <div class="metric-label">+8% vs mes anterior</div>
            </div>
        </div>
        
        <div class="top-dishes">
            <div class="section-title">Top 5 Platos Más Vendidos</div>
            <table class="dishes-table">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Plato</th>
                        <th>Ventas</th>
                        <th>Cantidad</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="dish-rank">1</td>
                        <td>Lomo Saltado</td>
                        <td class="dish-sales">$458.200</td>
                        <td class="dish-sales">35</td>
                    </tr>
                    <tr>
                        <td class="dish-rank">2</td>
                        <td>Ceviche Clásico</td>
                        <td class="dish-sales">$392.150</td>
                        <td class="dish-sales">28</td>
                    </tr>
                    <tr>
                        <td class="dish-rank">3</td>
                        <td>Pollo a la Brasa</td>
                        <td class="dish-sales">$315.800</td>
                        <td class="dish-sales">22</td>
                    </tr>
                    <tr>
                        <td class="dish-rank">4</td>
                        <td>Suspiro Limeño</td>
                        <td class="dish-sales">$187.600</td>
                        <td class="dish-sales">45</td>
                    </tr>
                    <tr>
                        <td class="dish-rank">5</td>
                        <td>Arroz con Mariscos</td>
                        <td class="dish-sales">$175.300</td>
                        <td class="dish-sales">15</td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <div class="export-buttons">
            <button class="btn btn-export btn-pdf" id="exportPdf">Exportar a PDF</button>
            <button class="btn btn-export" id="exportExcel">Exportar a Excel</button>
        </div>
    </div>
    
    <div class="success-message" id="exportSuccess">
        ✅ Archivo descargado exitosamente
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const generateReportBtn = document.getElementById('generateReport');
    const exportExcelBtn = document.getElementById('exportExcel');
    const exportPdfBtn = document.getElementById('exportPdf');
    const loadingIndicator = document.getElementById('loadingIndicator');
    const reportContent = document.getElementById('reportContent');
    const reportPeriod = document.getElementById('reportPeriod');
    const exportSuccess = document.getElementById('exportSuccess');
    const monthSelect = document.getElementById('monthSelect');
    const yearSelect = document.getElementById('yearSelect');
    
    const months = [
        'Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio',
        'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'
    ];
    
    generateReportBtn.addEventListener('click', function() {
        const month = parseInt(monthSelect.value);
        const year = parseInt(yearSelect.value);
        
        loadingIndicator.style.display = 'block';
        reportContent.style.display = 'none';
        exportSuccess.style.display = 'none';
        
        setTimeout(function() {
            loadingIndicator.style.display = 'none';
            reportContent.style.display = 'block';
            reportPeriod.textContent = `Reporte para: ${months[month-1]} ${year}`;
        }, 1500);
    });
    
    exportExcelBtn.addEventListener('click', function() {
        exportSuccess.textContent = '✅ Archivo .xlsx descargado exitosamente';
        exportSuccess.style.display = 'block';
        setTimeout(function() {
            exportSuccess.style.display = 'none';
        }, 3000);
    });
    
    exportPdfBtn.addEventListener('click', function() {
        exportSuccess.textContent = '✅ Archivo PDF descargado exitosamente';
        exportSuccess.style.display = 'block';
        setTimeout(function() {
            exportSuccess.style.display = 'none';
        }, 3000);
    });
    
    generateReportBtn.click();
});
</script>
</body>
</html>
